{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/saadaoui/Desktop/affariyett/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/saadaoui/Desktop/affariyett/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{productActions}from\"../slices/productSlice\";// fetch products\nexport function fetchProducts(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:5000/products\");case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;dispatch(productActions.setProducts(data));_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();}//   Get product by id\nexport function fetchProductById(productId){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch(productActions.setLoading());_context2.next=4;return fetch(\"http://localhost:5000/products/\".concat(productId));case 4:response=_context2.sent;_context2.next=7;return response.json();case 7:data=_context2.sent;dispatch(productActions.setProduct(data));dispatch(productActions.clearLoading());_context2.next=16;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);dispatch(productActions.clearLoading());case 16:case\"end\":return _context2.stop();}},_callee2,null,[[0,12]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();}","map":{"version":3,"names":["productActions","fetchProducts","dispatch","fetch","response","json","data","setProducts","console","log","fetchProductById","productId","setLoading","setProduct","clearLoading"],"sources":["C:/Users/saadaoui/Desktop/affariyett/src/redux/apiCalls/productApiCall.js"],"sourcesContent":["import { productActions } from \"../slices/productSlice\";\r\n\r\n// fetch products\r\nexport function fetchProducts() {\r\n    return async(dispatch) => {\r\n        try {\r\n            const response = await fetch(\"http://localhost:5000/products\")\r\n            const data = await response.json()\r\n            dispatch(productActions.setProducts(data))\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n  }\r\n\r\n//   Get product by id\r\n  export function fetchProductById(productId) {\r\n    return async(dispatch) => {\r\n        try {\r\n            dispatch(productActions.setLoading())\r\n            const response = await fetch(`http://localhost:5000/products/${productId}`)\r\n            const data = await response.json()\r\n            dispatch(productActions.setProduct(data))\r\n            dispatch(productActions.clearLoading())\r\n        } catch (error) {\r\n            console.log(error)\r\n            dispatch(productActions.clearLoading())\r\n        }\r\n    }\r\n  }"],"mappings":"oQAAA,OAASA,cAAc,KAAQ,wBAAwB,CAEvD;AACA,MAAO,SAASC,cAAa,EAAG,CAC5B,iGAAO,iBAAMC,QAAQ,2KAEUC,MAAK,CAAC,gCAAgC,CAAC,QAAxDC,QAAQ,qCACKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,eACVJ,QAAQ,CAACF,cAAc,CAACO,WAAW,CAACD,IAAI,CAAC,CAAC,kFAE1CE,OAAO,CAACC,GAAG,aAAO,qEAEzB,+DACH,CAEF;AACE,MAAO,SAASC,iBAAgB,CAACC,SAAS,CAAE,CAC1C,kGAAO,kBAAMT,QAAQ,0JAEbA,QAAQ,CAACF,cAAc,CAACY,UAAU,EAAE,CAAC,wBACdT,MAAK,0CAAmCQ,SAAS,EAAG,QAArEP,QAAQ,uCACKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,gBACVJ,QAAQ,CAACF,cAAc,CAACa,UAAU,CAACP,IAAI,CAAC,CAAC,CACzCJ,QAAQ,CAACF,cAAc,CAACc,YAAY,EAAE,CAAC,sFAEvCN,OAAO,CAACC,GAAG,cAAO,CAClBP,QAAQ,CAACF,cAAc,CAACc,YAAY,EAAE,CAAC,uEAE9C,iEACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}