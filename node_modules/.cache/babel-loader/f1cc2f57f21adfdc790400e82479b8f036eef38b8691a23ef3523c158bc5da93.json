{"ast":null,"code":"import _slicedToArray from\"C:/Users/saadaoui/Desktop/affariyett/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useParams}from'react-router-dom';import{specialOffers}from'../../data/special-offers';import Rating from'../../components/rating/Rating';import'./SpecialOffer.css';import{useDispatch}from'react-redux';import{cartActions}from'../../redux/slices/cartSlice';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SpecialOfferPage(){var _useParams=useParams(),param=_useParams.param;var product=specialOffers.find(function(prod){return prod.id===+param;});// parseInt(param) === +(param)\nvar images=product.images,title=product.title,rating=product.rating,reviews=product.reviews,price=product.price,discount=product.discount;var dispatch=useDispatch();var addToCart=cartActions.addToCart;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),imageIndex=_useState2[0],setImageIndex=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),qty=_useState4[0],setQty=_useState4[1];var calculatedDiscount=price-discount*price/100;// Get the page from the top\nwindow.scroll(0,0);// add to cart\nvar addToCartHandler=function addToCartHandler(){dispatch(addToCart({id:product.id,quantity:qty,price:calculatedDiscount,title:product.title,img:product.images[0]}));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"special-offers-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"special-offers-page-img-wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{src:images[imageIndex],alt:\"\",className:\"special-offers-page-img\"}),/*#__PURE__*/_jsx(\"div\",{className:\"special-offers-page-select\",children:images.map(function(img,index){return/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return setImageIndex(index);},className:\"select-img\",src:img,alt:\"\"},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"special-offers-page-info\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"special-offers-page-title\",children:title}),/*#__PURE__*/_jsx(Rating,{rating:rating,reviews:reviews}),/*#__PURE__*/_jsxs(\"div\",{className:\"special-offers-price\",children:[/*#__PURE__*/_jsxs(\"b\",{className:\"special-offers-item\",children:[\"$\",price]}),/*#__PURE__*/_jsxs(\"b\",{className:\"special-offers-final-price-item\",children:[\"$\",calculatedDiscount]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"special-offers-add-to-cart\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{value:qty,onChange:function onChange(e){return setQty(e.target.value);},type:\"number\",min:\"1\",max:\"10\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-to-cart-btn\",onClick:addToCartHandler,children:\"Add To Cart\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-description\",children:\"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Explicabo optio, eveniet in maxime incidunt cumque vel laborum recusandae, deserunt earum illum neque molestiae error praesentium ipsa. Corporis amet labore voluptatibus dignissimos debitis pariatur cum deserunt id dicta iste, suscipit harum asperiores quia illo ducimus placeat dolorem fugit provident accusamus. Molestias. Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga, eligendi id veritatis architecto labore adipisci ducimus iusto est expedita necessitatibus.\"})]});}export default SpecialOfferPage;","map":{"version":3,"names":["React","useState","useParams","specialOffers","Rating","useDispatch","cartActions","SpecialOfferPage","param","product","find","prod","id","images","title","rating","reviews","price","discount","dispatch","addToCart","imageIndex","setImageIndex","qty","setQty","calculatedDiscount","window","scroll","addToCartHandler","quantity","img","map","index","e","target","value"],"sources":["C:/Users/saadaoui/Desktop/affariyett/src/pages/specialOffer/SpecialOfferPage.jsx"],"sourcesContent":["import React,{useState} from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { specialOffers } from '../../data/special-offers'\r\nimport Rating from '../../components/rating/Rating'\r\nimport './SpecialOffer.css'\r\nimport { useDispatch } from 'react-redux'\r\nimport { cartActions } from '../../redux/slices/cartSlice'\r\n\r\nfunction SpecialOfferPage() { \r\n  const {param} = useParams()\r\n  const product = specialOffers.find(prod => prod.id === +param) // parseInt(param) === +(param)\r\n  const { images, title, rating, reviews, price, discount } = product;\r\n  const dispatch = useDispatch();\r\n  const {addToCart} = cartActions;\r\n  const [imageIndex, setImageIndex] = useState(0);\r\n  const [qty,setQty] = useState(1);\r\n  const calculatedDiscount = price - (discount * price) / 100;\r\n  // Get the page from the top\r\n  window.scroll(0, 0)\r\n  // add to cart\r\n  const addToCartHandler = () => {\r\n    dispatch(addToCart({\r\n      id: product.id,\r\n      quantity: qty,\r\n      price:calculatedDiscount,\r\n      title: product.title,\r\n      img: product.images[0],\r\n    }))\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"special-offers-page\">\r\n        <div className=\"special-offers-page-img-wrapper\">\r\n          <img\r\n            src={images[imageIndex]}\r\n            alt=\"\"\r\n            className=\"special-offers-page-img\"\r\n          />\r\n          <div className=\"special-offers-page-select\">\r\n            {images.map((img, index) => (\r\n              <img\r\n                onClick={() => setImageIndex(index)}\r\n                className=\"select-img\"\r\n                key={index}\r\n                src={img}\r\n                alt=\"\"\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"special-offers-page-info\">\r\n          <h3 className=\"special-offers-page-title\">{title}</h3>\r\n          <Rating rating={rating} reviews={reviews} />\r\n          <div className=\"special-offers-price\">\r\n            <b className=\"special-offers-item\">${price}</b>\r\n            <b className=\"special-offers-final-price-item\">\r\n              ${calculatedDiscount}\r\n            </b>\r\n          </div>\r\n          <div className=\"special-offers-add-to-cart\">\r\n              <div>Quantity</div>\r\n              <input \r\n                value={qty}\r\n                onChange={e=>setQty(e.target.value)}\r\n                type=\"number\" \r\n                min=\"1\" \r\n                max=\"10\" \r\n              />\r\n              <button \r\n                className=\"add-to-cart-btn\"\r\n                onClick={addToCartHandler}\r\n              >Add To Cart</button>\r\n            </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"product-description\">\r\n        Lorem ipsum dolor sit, \r\n        amet consectetur adipisicing elit. \r\n        Explicabo optio, \r\n        eveniet in maxime incidunt cumque \r\n        vel laborum recusandae, \r\n        deserunt earum illum neque molestiae \r\n        error praesentium ipsa. Corporis amet \r\n        labore voluptatibus dignissimos debitis \r\n        pariatur cum deserunt id dicta iste, \r\n        suscipit harum asperiores quia illo ducimus \r\n        placeat dolorem fugit provident accusamus. \r\n        Molestias.\r\n        Lorem ipsum dolor sit amet consectetur adipisicing elit. \r\n        Fuga, eligendi id veritatis architecto labore \r\n        adipisci ducimus iusto est expedita necessitatibus.\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SpecialOfferPage\r\n"],"mappings":"0HAAA,MAAOA,MAAK,EAAEC,QAAQ,KAAO,OAAO,CACpC,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,aAAa,KAAQ,2BAA2B,CACzD,MAAOC,OAAM,KAAM,gCAAgC,CACnD,MAAO,oBAAoB,CAC3B,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,WAAW,KAAQ,8BAA8B,8IAE1D,QAASC,iBAAgB,EAAG,CAC1B,eAAgBL,SAAS,EAAE,CAApBM,KAAK,YAALA,KAAK,CACZ,GAAMC,QAAO,CAAGN,aAAa,CAACO,IAAI,CAAC,SAAAC,IAAI,QAAIA,KAAI,CAACC,EAAE,GAAK,CAACJ,KAAK,GAAC,CAAC;AAC/D,GAAQK,OAAM,CAA8CJ,OAAO,CAA3DI,MAAM,CAAEC,KAAK,CAAuCL,OAAO,CAAnDK,KAAK,CAAEC,MAAM,CAA+BN,OAAO,CAA5CM,MAAM,CAAEC,OAAO,CAAsBP,OAAO,CAApCO,OAAO,CAAEC,KAAK,CAAeR,OAAO,CAA3BQ,KAAK,CAAEC,QAAQ,CAAKT,OAAO,CAApBS,QAAQ,CACvD,GAAMC,SAAQ,CAAGd,WAAW,EAAE,CAC9B,GAAOe,UAAS,CAAId,WAAW,CAAxBc,SAAS,CAChB,cAAoCnB,QAAQ,CAAC,CAAC,CAAC,wCAAxCoB,UAAU,eAAEC,aAAa,eAChC,eAAqBrB,QAAQ,CAAC,CAAC,CAAC,yCAAzBsB,GAAG,eAACC,MAAM,eACjB,GAAMC,mBAAkB,CAAGR,KAAK,CAAIC,QAAQ,CAAGD,KAAK,CAAI,GAAG,CAC3D;AACAS,MAAM,CAACC,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC,CACnB;AACA,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAgB,EAAS,CAC7BT,QAAQ,CAACC,SAAS,CAAC,CACjBR,EAAE,CAAEH,OAAO,CAACG,EAAE,CACdiB,QAAQ,CAAEN,GAAG,CACbN,KAAK,CAACQ,kBAAkB,CACxBX,KAAK,CAAEL,OAAO,CAACK,KAAK,CACpBgB,GAAG,CAAErB,OAAO,CAACI,MAAM,CAAC,CAAC,CACvB,CAAC,CAAC,CAAC,CACL,CAAC,CAED,mBACE,wCACE,aAAK,SAAS,CAAC,qBAAqB,wBAClC,aAAK,SAAS,CAAC,iCAAiC,wBAC9C,YACE,GAAG,CAAEA,MAAM,CAACQ,UAAU,CAAE,CACxB,GAAG,CAAC,EAAE,CACN,SAAS,CAAC,yBAAyB,EACnC,cACF,YAAK,SAAS,CAAC,4BAA4B,UACxCR,MAAM,CAACkB,GAAG,CAAC,SAACD,GAAG,CAAEE,KAAK,qBACrB,YACE,OAAO,CAAE,yBAAMV,cAAa,CAACU,KAAK,CAAC,EAAC,CACpC,SAAS,CAAC,YAAY,CAEtB,GAAG,CAAEF,GAAI,CACT,GAAG,CAAC,EAAE,EAFDE,KAAK,CAGV,EACH,CAAC,EACE,GACF,cACN,aAAK,SAAS,CAAC,0BAA0B,wBACvC,WAAI,SAAS,CAAC,2BAA2B,UAAElB,KAAK,EAAM,cACtD,KAAC,MAAM,EAAC,MAAM,CAAEC,MAAO,CAAC,OAAO,CAAEC,OAAQ,EAAG,cAC5C,aAAK,SAAS,CAAC,sBAAsB,wBACnC,WAAG,SAAS,CAAC,qBAAqB,WAAC,GAAC,CAACC,KAAK,GAAK,cAC/C,WAAG,SAAS,CAAC,iCAAiC,WAAC,GAC5C,CAACQ,kBAAkB,GAClB,GACA,cACN,aAAK,SAAS,CAAC,4BAA4B,wBACvC,qBAAK,UAAQ,EAAM,cACnB,cACE,KAAK,CAAEF,GAAI,CACX,QAAQ,CAAE,kBAAAU,CAAC,QAAET,OAAM,CAACS,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,CACpC,IAAI,CAAC,QAAQ,CACb,GAAG,CAAC,GAAG,CACP,GAAG,CAAC,IAAI,EACR,cACF,eACE,SAAS,CAAC,iBAAiB,CAC3B,OAAO,CAAEP,gBAAiB,UAC3B,aAAW,EAAS,GACjB,GACJ,GACF,cAEN,YAAK,SAAS,CAAC,qBAAqB,UAAC,2hBAgBrC,EAAM,GACL,CAEP,CAEA,cAAerB,iBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}